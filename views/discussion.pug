each itemComment, indexReply in comments
  .row.comment
    .col.s12
      .row.identification-section
        i.small.material-icons.profile-picture account_circle
        span.name Firstname Lastname
        span.likes-section
          i.small.material-icons.thumb-picture reply
          span.likes-number=itemComment['likesCount']  &nbsp
          i.small.material-icons.thumb-picture.click-pointer(id='like_' + itemComment['id'], onclick='voteClickComment($(this), 1)', onmouseover='voteHover($(this), 1)', onmouseout='voteLeave($(this), 1)') thumb_up
          span.likes-number=itemComment['dislikesCount']  &nbsp
          i.small.material-icons.thumb-picture.click-pointer(id='dislike_' + itemComment['id'], onclick='voteClickComment($(this), -1)', onmouseover='voteHover($(this), -1)', onmouseout='voteLeave($(this), -1)') thumb_down
          span.likes-number=itemComment['repliesCount']
        br
        span.date=itemComment['date']

      hr.divider
      .row
        p.comment-text=itemComment['comment']
    if itemComment['replies'].length === 0
      .col.s12
        .row
          .button.comment-button(class='btn btn-lg btn-primary', onclick='repliesSection(1)') Be the first to reply
    else
      .col.s12
        .row
          .button.comment-button(class='btn btn-lg btn-primary', onclick='repliesSection(1)') view replies

    each itemReply, indexReply in itemComment['replies']
      .col.s11.reply
        .row.identification-section
          i.small.material-icons.profile-picture account_circle
          span.name Firstname Lastname
          span.likes-section
            i.small.material-icons.thumb-picture.click-pointer(id='like_' + itemComment['id'] + '_' + itemReply['id'], onclick='voteClick($(this), 1)', onmouseover='voteHover($(this), 1)', onmouseout='voteLeave($(this), 1)') thumb_up
            span.likes-number=itemReply['likesCount']  &nbsp
            i.small.material-icons.thumb-picture.click-pointer(id='dislike_' + itemComment['id'] + '_' + itemReply['id'], onclick='voteClick($(this), -1)', onmouseover='voteHover($(this), -1)', onmouseout='voteLeave($(this), -1)') thumb_down
            span.likes-number=itemReply['dislikesCount']
          br
          span.date=itemReply['date']
        hr.divider
        .row
          p.comment-text(id='reply_' + itemComment['id'] + '_' + itemReply['id'])=itemReply['reply']
    .col.s12.reply
      .row.identification-section
        i.small.material-icons.profile-picture account_circle
        span.name Firstname Lastname
      .row
        textarea.comment-box(id='replyTo_' + itemComment['id'], placeholder='Enter a Reply...')
        .button.comment-button(class='btn btn-lg btn-primary', onclick='reply()') Reply

.row.comment
  .col.s12
    .row.identification-section
      i.small.material-icons.profile-picture account_circle
      span.name Firstname Lastname
    .row
      textarea.comment-box#commentBox(placeholder='Enter a comment...')
      .button.comment-button(class='btn btn-lg btn-primary', onclick='comment()') Comment

block scripts
  script(src='/lib/jquery/jquery-3.1.1.min.js')
  script(src='/lib/caret/jquery.caret.min.js')
  script(src='/lib/caret/jquery.atwho.min.js')
  script(src='/js/discussion.js')
